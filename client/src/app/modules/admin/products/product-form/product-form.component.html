<h2 *ngIf="this.data.typeform === 0" mat-dialog-title>Add Product</h2>
<h2 *ngIf="this.data.typeform === 1" mat-dialog-title>Edit Product <strong>#{{ data.product.id }}</strong></h2>
<mat-dialog-content class="mat-typography">
    <div class="form-group custom-form">
        <mat-form-field appearance="fill" class="col-md-8">
            <mat-label>SKU</mat-label>
            <input [(ngModel)]="data.product.name" #name="ngModel" matInput type="text" required>
            <mat-error class="error-required" *ngIf="name.touched && name.invalid && name.errors?.required">
                SKU is <strong>required</strong>
            </mat-error>
        </mat-form-field>
    </div>
    <div class="form-group custom-form">
        <mat-form-field appearance="fill" class="col-md-8">
            <mat-label>Name</mat-label>
            <input [(ngModel)]="data.product.name" #name="ngModel" matInput type="text" required>
            <mat-error class="error-required" *ngIf="name.touched && name.invalid && name.errors?.required">
                Name is <strong>required</strong>
            </mat-error>
        </mat-form-field>
    </div>
    <div class="form-group custom-form">
        <mat-form-field appearance="fill" class="col-md-8">
            <mat-label>Description</mat-label>
            <textarea [(ngModel)]="data.product.description" matInput></textarea>
        </mat-form-field>
    </div>
    <div class="form-group custom-form">
        <mat-form-field appearance="fill" class="col-md-8">
            <mat-label>Category</mat-label>
            <mat-select [(ngModel)]="data.product.categoryId" [compareWith]="compareCategory" #selectCategory="ngModel" name="category">
                <mat-option>None</mat-option>
                <mat-option (click)="selectedCategory(category)" 
                    *ngFor="let category of categoriesStore.categories$ | async" 
                    [value]="category.id">
                    {{ category.name }}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div *ngIf="logProductsStore.logproducts.length > 0" class="form-group custom-form">
        <table id="producttable" class="table table-striped table-hover table-sm ">
            <thead class="dt-header">
              <tr>
                <th>Size</th>
                <th>Color</th>
                <th>Price</th>
                <th>Quantity</th>
                <th colspan="2">Action</th>
              </tr>
            </thead>
            <tbody class="table-body">
              <tr *ngFor="let item of logProductsStore.logproducts | async">
                <td>{{ product.size }}</td>
                <td>{{ product.color }}</td>
                <td>{{ product.importprice }}</td>
                <td>{{ product.quantity }}</td>
                <td><fa class="edit-icon" name="edit"></fa></td>
                <td><fa class="delete-icon" name="trash"></fa></td>
              </tr>
            </tbody>
          </table>
    </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button mat-dialog-close cdkFocusInitial class="btn btn-cancel">Cancel</button> &nbsp;
    <button mat-button (click)="next()" class="btn btn-save">Add Product Detail</button>
    <button mat-button (click)="save()" class="btn btn-save">Save & Close</button>
</mat-dialog-actions>