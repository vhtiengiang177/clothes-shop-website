<section class="product-shop spad">
    <div class="container">
        <div class="row inner-header center custome-search-client">
            <div class="col-6">
                <div class="advanced-search">
                    <div class="input-group">
                        <input [(ngModel)]="search" #searchInput type="text" placeholder="What do you need?">
                        <button type="button" (click)="searchEvent(searchInput.value)">
                            <fa name="search"></fa>
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <button name="btn btn-secondary" type="button" class="btn btn-reset" (click)="reloadProduct()">
                    <fa name="refresh"></fa>
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-8 order-2 order-lg-1 produts-sidebar-filter">
                <div class="filter-widget">
                    <h4 class="fw-title">Categories</h4>
                    <ul class="filter-catagories">
                        <li *ngFor="let category of categoriesStore.categories$ | async">
                            <button class="btn" (click)="getProductByCategory(category)">{{ category.name }}</button>
                        </li>
                    </ul>
                </div>
                <div class="filter-widget">
                    <h4 class="fw-title">Price</h4>
                    <div class="filter-range-wrap">
                        <div class="range-slider">
                            <div class="price-input">
                                <input type="text" id="minamount" [(ngModel)]="minPrice">
                                <input type="text" id="maxamount" [(ngModel)]="maxPrice">
                            </div>
                        </div>
                    </div>
                    <button class="btn filter-btn" (click)="filterPrice()">Filter</button>
                </div>
                <!-- <div class="filter-widget">
                    <h4 class="fw-title">Size</h4>
                    <div class="fw-size-choose">
                        <div class="sc-item" *ngFor="let size of sizesStore.sizes$ | async">
                            <input type="radio" id="s-size">
                            <label for="s-size">{{ size.name }}</label>
                        </div>
                    </div>
                </div> -->
            </div>
            <div class="col-lg-9 order-1 order-lg-2">
                <div class="product-show-option">
                    
                    <div class="row">
                        <div class="col-lg-5 col-md-5">
                            <mat-form-field>
                                <mat-label>Sort</mat-label>
                                <mat-select [(ngModel)]="sortSelected" name="sort">
                                    <mat-option value="name:asc" (click)="sort()">
                                        Name ASC <fa name="sort-alpha-asc"></fa>
                                    </mat-option>
                                    <mat-option #namedesc value="name:desc" (click)="sort()">
                                        Name DESC<fa name="sort-alpha-desc"></fa>
                                    </mat-option>
                                    <mat-option #bestsellers value="totalbuy:desc" (click)="sort()">
                                        Best Sellers
                                    </mat-option>
                                    <mat-option #new value="createddate:desc" (click)="sort()">
                                        New
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-7 col-md-7 text-right">
                            <mat-paginator #paginator [length]="productsStore.totalData" [(pageSize)]="filter.pagesize"
                                (page)="onPaginate($event)" showFirstLastButtons>
                            </mat-paginator>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-7 col-md-7">
                            <mat-chip-list #chipList aria-label="Fruit selection">
                                <mat-chip *ngFor="let category of categoriesOptions" [selectable]="selectable"
                                    [removable]="removable" (removed)="remove(category)">
                                    {{ category.name }}
                                    <button matChipRemove *ngIf="removable"
                                        style="border: none; background: transparent;">
                                        <fa name="times-circle"></fa>
                                    </button>
                                </mat-chip>
                            </mat-chip-list>
                        </div>
                    </div>
                </div>
                <div class="product-list">
                    <div class="row">
                        <div class="col-lg-4 col-sm-6" *ngFor="let product of productsStore.products$ | async">
                            <div  class="product-item">
                                <div class="pi-pic">
                                    <img [routerLink]="['/product-detail', product.id]" src="assets/product.jpg">
                                    <ul>
                                        <li (click)="addToCart(product)" class="quick-view"><a >ADD TO CART</a></li>
                                    </ul>
                                </div>
                                <div [routerLink]="['/product-detail', product.id]" class="pi-text">
                                    <div class="catagory-name">Towel</div>
                                    <a href="#">
                                        <h5>{{ product.name }}</h5>
                                    </a>
                                    <div class="product-price">{{ product.unitPrice | currency: 'VND' }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>