<!-- 
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div *ngIf="promotionsStore.promotions.length > 0" class="order-table table-promotion">
                <table>
                    <thead >
                        <tr>
                            <th></th>
                            <th class="p-name">PROMOTIONS</th>
                            <th>VALUE</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="tr-delivery" *ngFor="let item of promotionsStore.promotions$  | async; index as i">
                            <td>{{ i+1 }}</td>
                            <td class="cart-title first-row">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <h5 class="name-item">{{ item.name }}</h5>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12 stock">
                                        {{ item.description }}
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12 stock">
                                        {{ item.startDate | date: 'dd/MM/yyyy'}} - {{ item.endDate | date: 'dd/MM/yyyy'}}
                                    </div>
                                </div>
                            </td>
                            <td class="close-td first-row">{{ item.value * 100 }}%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div> -->

<section class="hero-section">
    <!-- <div class="hero-items owl-carousel">
        <div class="single-hero-items set-bg">
            <div class="container">
                <div class="row">
                    <div class="col-lg-10 btn-shop-now">
                         <button [routerLink]="['/products']" class="primary-btn-custom">Shop Now!!</button>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <carousel 
        cellsToShow="1"
        loop="true"
        autoplay="true"
        autoplayInterval="4000"
        height="500"
        cellWidth="90%"
        [images]="images">
    </carousel>
</section>
<!-- <div class="product-list">
    <div class="row">
        <div class="col-lg-4 col-sm-6" *ngFor="let product of productsStore.products$ | async">
            <div  class="product-item">
                <div class="pi-pic">
                    <img class="image image-product" [routerLink]="['/product-detail', product.id]" [src]="product.imageUrl">
                    <ul>
                        <li (click)="addToCart(product)" class="quick-view"><a >ADD TO CART</a></li>
                    </ul>
                    <div *ngIf="product.idPromotion" class="ribbon-wrapper">
                        <div class="ribbon">SALE</div>
                      </div>
                </div>
                <div [routerLink]="['/product-detail', product.id]" class="pi-text">
                    <div class="catagory-name">Towel</div>
                    <a href="#">
                        <h5>{{ product.name }}</h5>
                    </a>
                    <div class="product-price">{{ product.pricePromotion | currency: 'VND' }} </div>
                    <h6 *ngIf="product.idPromotion"><del>{{ product.unitPrice | currency: 'VND'}}</del></h6>
                </div>
            </div>
        </div>
        <div style="text-align: center;">
            <img *ngIf="productsStore.products.length == 0" class="image" src="assets/img/common/no-products-found.gif">
        </div>
    </div>
</div> -->
<section class="product-shop spad">
    <div class="container">
        <div class="row inner-header center custome-search-client">
            <div class="col-6">
                <div class="advanced-search">
                    <div class="input-group">
                        <input [(ngModel)]="search" #searchInput type="text" placeholder="What do you need?">
                        <button type="button" (click)="searchEvent(searchInput.value)">
                            <fa name="search"></fa>
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-1">
                <button name="btn btn-secondary" type="button" class="btn btn-reset" (click)="reloadProduct()">
                    <fa name="refresh"></fa>
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-8 order-2 order-lg-1 produts-sidebar-filter">
                <div class="filter-widget">
                    <h4 class="fw-title">Categories</h4>
                    <ul class="filter-catagories">
                        <li *ngFor="let category of categoriesStore.categories$ | async">
                            <button class="btn" (click)="getProductByCategory(category)">{{ category.name }}</button>
                        </li>
                    </ul>
                </div>
                <div class="filter-widget">
                    <h4 class="fw-title">Price</h4>
                    <div class="filter-range-wrap">
                        <div class="range-slider">
                            <div class="price-input">
                                <input type="text" id="minamount" [(ngModel)]="minPrice">
                                <input type="text" id="maxamount" [(ngModel)]="maxPrice">
                            </div>
                        </div>
                    </div>
                    <button class="btn filter-btn" (click)="filterPrice()">Filter</button>
                </div>
            </div>
            <div class="col-lg-9 order-1 order-lg-2">
                <div class="product-show-option">
                    <div class="row">
                        <div class="col-lg-5 col-md-5">
                            <mat-form-field>
                                <mat-label>Sort</mat-label>
                                <mat-select [(ngModel)]="sortSelected" name="sort">
                                    <mat-option value="name:asc" (click)="sort()">
                                        Name ASC <fa name="sort-alpha-asc"></fa>
                                    </mat-option>
                                    <mat-option #namedesc value="name:desc" (click)="sort()">
                                        Name DESC<fa name="sort-alpha-desc"></fa>
                                    </mat-option>
                                    <mat-option #bestsellers value="totalbuy:desc" (click)="sort()">
                                        Best Sellers
                                    </mat-option>
                                    <mat-option #new value="createddate:desc" (click)="sort()">
                                        New
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-7 col-md-7 text-right">
                            <mat-paginator #paginator [length]="productsStore.totalData" [(pageSize)]="filter.pagesize"
                                (page)="onPaginate($event)" showFirstLastButtons>
                            </mat-paginator>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-7 col-md-7">
                            <mat-chip-list #chipList aria-label="Fruit selection">
                                <mat-chip *ngFor="let category of categoriesOptions" [selectable]="selectable"
                                    [removable]="removable" (removed)="remove(category)">
                                    {{ category.name }}
                                    <button matChipRemove *ngIf="removable"
                                        style="border: none; background: transparent;">
                                        <fa name="times-circle"></fa>
                                    </button>
                                </mat-chip>
                            </mat-chip-list>
                        </div>
                    </div>
                </div>
                <div class="product-list">
                    <div class="row">
                        <div class="col-lg-4 col-sm-6" *ngFor="let product of productsStore.products$ | async">
                            <div class="product-item">
                                <div class="pi-pic">
                                    <img class="image image-product" [routerLink]="['/product-detail', product.id]" [src]="product.imageUrl">
                                    <ul>
                                        <li (click)="addToCart(product)" class="quick-view"><a >ADD TO CART</a></li>
                                        <li><button class="btn-heart" *ngIf = "!product.isFavorite"><img  (click)="changeHeart(product.id)"  class="img-heart-2" src="assets/img/heart.jpg" alt=""></button></li>
                                        <li><button class="btn-heart" *ngIf = "product.isFavorite"><img  (click)="changeHeart(product.id)"  class="img-heart-2" src="assets/img/heart-2.jpg" alt=""></button></li>
                                    </ul>
                                    <div *ngIf="product.idPromotion" class="ribbon-wrapper">
                                        <div class="ribbon">SALE</div>
                                      </div>
                                </div>
                                <div [routerLink]="['/product-detail', product.id]" class="pi-text">
                                    <div class="catagory-name">Towel</div>
                                    <a href="#">
                                        <h5>{{ product.name }}</h5>
                                    </a>
                                    <div class="product-price">{{ product.pricePromotion | currency: 'VND' }} </div>
                                    <h6 *ngIf="product.idPromotion"><del>{{ product.unitPrice | currency: 'VND'}}</del></h6>
                                </div>
                            </div>
                        </div>
                        <div style="text-align: center;">
                            <img *ngIf="productsStore.products.length == 0" class="image" src="assets/img/common/no-products-found.gif">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
